VS ：调度服务器，做负载均衡
RS ：后台服务器（负责业务处理）
CIP：客户端IP
VIP： VS服务器的外网IP
DIP： VS服务器的内外IP
RIP： RS服务器的IP

访问流程  CIP <-> VIP == DIP <-> RIP

LVS  工作在第四层（传输层），不受socket 限制，通过VS的防火墙的INPUT规则实现客户端请求的拦截和转发，实际操作为VS服务器根据报文的目标IP和协议及端口将调度任务发至RS服务器，根据调度算法。

LVS类型：
(1)NAT ：修改请求报文的目标IP，存在多目标IP的实行DNAT
优点：只需要一个公网IP，
缺点：不适合大型网络，所有的报文都必须通过调度服务器，当RS数量大于20时，VS将面临性能瓶颈。


(2)DR直接路由 ：为请求报文封装新的MAC地址进行转发，
源MAC是 DIP所在的接口MAC， 目标MAC 是选中的RS的MAC
注明：
RIP和DIP在同一网络，私网地址和公网地址都可以，只是RIP的网关不能指向DIP；
请求报文可经过VS，但是响应不会经过VS
端口不可修改

(3)TUN ： 不修改请求报文的IP首部（源IP是CIP，目标IP 是VIP） ，,在原请求IP报文之外新加一个IP首部（源IP是DIP， 目标IP是RIP）

FULLNAT ：修改请求报文的 源IP 和  目标 IP （现在内核不支持）





